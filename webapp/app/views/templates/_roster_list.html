<div class="roster-title">  
  <h3>Your <span ng-show="history">Past {{currentUser.currentSport}} </span>Predictions
    <a class="btn btn-small btn-success pull-right" href="/#/{{currentUser.currentSport}}/individual_predictions">My Individual Predictions</a>
  </h3>
</div>
<table class="table table-striped">
  <thead>
    <th>Prediction</th>
    <th>Day</th>
    <th>State</th>
    <th>Rank</th>
    <th>Points</th>
    <th>Award</th>
    <th>Paid</th>
    <th>Roster</th>
  </thead>
  <tbody>
    <tr ng-repeat="roster in rosterList">
      <td>
        <div>{{roster.market.name}}
        </div>
        <div class="league-roster" ng-show="roster.league">{{ roster.league.name }} League Game</div>
        <div>
          {{ roster.contest_type.name | allCaps }}
        </div>
      </td>
      <td ><span ng-show="roster.live">LIVE</span><span ng-hide="roster.live"><span class="finished-time">{{roster.market.closed_at | longFormDate}}</span></span></td>
      <td >{{roster.state}} <span ng-show="roster.cancelled_reason">{{roster.cancelled_reason}}</span></td>
      <td>
        <span ng-show="roster.contest_rank && inThePast(roster.started_at) && roster.state != 'cancelled'">{{roster.contest_rank | ordinal}} of {{roster.contest_type.max_entries | unlimitedIfZero}}</span>
        <span ng-show="!inThePast(roster.started_at)">Not started yet</span>
        <span ng-show="roster.state == 'cancelled'">N/A</span>
      </td>
      <td>
        <span ng-show="inThePast(roster.started_at)">{{roster.score || 0}}</span>
        <span ng-show="!inThePast(roster.started_at)">N/A</span>
      </td>
      <td >
        <span ng-show="roster.state == 'cancelled'">Refunded on {{roster.cancelled_at | longFormDate}}</span>
        <span ng-show="roster.state == 'finished'">
          <span ng-show="roster.contest_type.takes_tokens">{{roster.amount_paid | number:0}} FanFrees</span>
          <span ng-hide="roster.contest_type.takes_tokens">{{roster.amount_paid | centsToDollars }} </span>
            on {{roster.paid_at | longFormDate}}
        </span>
      </td>
      <td >
        <span ng-show="inThePast(roster.started_at) && roster.state == 'finished'">{{roster.contest_rank_payout || 0}}</span>
        <span ng-hide="inThePast(roster.started_at) && roster.state == 'finished'">N/A</span>
      </td>
      <td><a href="#/{{currentUser.currentSport}}/market/{{roster.market.id}}/roster/{{roster.id}}">view</a></td>
    </tr>
  </tbody>
</table>
<btn class="btn" ng-show="showMore" ng-click="fetchMore()">Show More</btn>
